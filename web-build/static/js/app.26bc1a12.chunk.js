(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{131:function(t,e,n){"use strict";n.d(e,"a",(function(){return Dt}));var r,a=n(0),o=n.n(a),c=n(16),i=n(79),l=n(4),u=n(80),d=n(49),s=n(26),m=n.n(s),f=n(15),p=n.n(f),g=n(25),h=n.n(g),y=Object(d.b)("products/getAllProducts",(function(t,e){var n,r,a;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.rejectWithValue,console.log("fetch"),t.next=4,h.a.awrap(fetch("https://fakestoreapi.com/products"));case 4:if(!(r=t.sent).ok){t.next=12;break}return t.next=8,h.a.awrap(r.json());case 8:return a=t.sent,t.abrupt("return",{products:a});case 12:return t.abrupt("return",n({error:"Error while loading the products"}));case 13:case"end":return t.stop()}}),null,null,null,Promise)})),x=Object(d.c)({name:"Product",initialState:{products:[],errorMessage:!1,isFetching:!1},reducers:{},extraReducers:(r={},m()(r,y.pending,(function(t,e){return p()({},t,{products:[],isFetching:!0,errorMessage:!1})})),m()(r,y.rejected,(function(t,e){return console.log(e),p()({},t,{products:[],isFetching:!1,errorMessage:e.payload.error})})),m()(r,y.fulfilled,(function(t,e){return p()({},{products:e.payload.products,isFetching:!1,errorMessage:!1})})),r)}).reducer,b=n(27),E=n(66),w=n.n(E);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j,O,C,S=Object(d.c)({name:"Cart",initialState:{cartItems:[],totalAmount:0,totalQuantity:0},reducers:{addToCart:function(t,e){var n,r,a,o,c=e.payload,i=c.product,l=c.quantity,u=i.id,d=i.price,s=i.title,m=i.image,f=t.cartItems.find((function(t){return t.id===i.id}));return f?(n=A(A({},f),{},{quantity:parseInt(f.quantity,10)+parseInt(l,10),amount:f.amount+d*l}),r=t.cartItems.map((function(t){return t.id===n.id?n:t}))):(n={id:u,price:d,quantity:parseInt(l,10),image:m,title:s,amount:d*l},r=[].concat(w()(t.cartItems),[n])),a=t.totalAmount+d*l,o=parseInt(t.totalQuantity,10)+parseInt(l,10),p()({},t,{cartItems:r,totalAmount:a,totalQuantity:o})},removeFromCart:function(t,e){var n,r,a,o=e.payload.product,c=t.cartItems.find((function(t){return t.id===o.id}));if(!c)return t;if(c.quantity>1){var i=A(A({},c),{},{quantity:c.quantity-1,amount:c.amount-c.price});n=t.cartItems.map((function(t){return t.id===i.id?i:t}))}else n=t.cartItems.filter((function(t){return t.id!==c.id}));return r=n.length>0?t.totalAmount-c.price:0,a=parseInt(t.totalQuantity,10)-1,p()({},t,{cartItems:n,totalAmount:r,totalQuantity:a})},removeProductFromCart:function(t,e){var n,r,a,o=e.payload.product,c=t.cartItems.find((function(t){return t.id===o.id}));return c?(r=(n=t.cartItems.filter((function(t){return t.id!==c.id}))).length>0?t.totalAmount-c.amount:0,a=t.totalQuantity-c.quantity,p()({},t,{cartItems:n,totalAmount:r,totalQuantity:a})):t}}}),I=S.actions,F=I.addToCart,P=I.removeFromCart,T=I.removeProductFromCart,k=S.reducer,Q=Object(b.b)({product:x,cart:k}),M={cart:function(){try{var t=localStorage.getItem("cart");if(null===t)return;return JSON.parse(t)}catch(e){return}}()},V=function(t){var e=t.getState;return function(t){return function(n){var r=t(n);return function(t){try{var e=JSON.stringify(t.cart);localStorage.setItem("cart",e)}catch(n){}}(e()),r}}},q=Object(d.a)({reducer:Q,preloadedState:M,middleware:function(t){return t().concat(V)}}),z=n(30),W=n(175),D=n(91),R=n(10),J=n.n(R),L=n(50),B=n.n(L),H=n(8),N=n(38),Y=n(24),G=n(11),U=n(3),K=n(90);var X,Z,$,_,tt=function(t){var e=Object(a.useState)(1),n=B()(e,2),r=n[0],c=n[1];return o.a.createElement(rt,null,o.a.createElement(nt,null,o.a.createElement(et,{source:{uri:t.product.image},resizeMode:"cover"})),o.a.createElement(H.a,{style:{fontWeight:"bold",textAlign:"center"}},t.product.title),o.a.createElement(H.a,{style:{fontWeight:"bold",textAlign:"center"}},"Price :",t.product.price.toFixed(2)),o.a.createElement(H.a,{style:{fontWeight:"bold",textAlign:"center"}},"Quantity :"),o.a.createElement(K.a,{style:{width:100,alignSelf:"center"},buttonStyle:{width:30,backgroundColor:"#665EAD"},max:10,min:1,step:1,editable:!1,rounded:!1,showBorder:!0,colorMax:"#f04048",colorMin:"#40c5f4",value:r,onChange:function(t){c(t)}}),o.a.createElement(U.a,{style:{padding:10}},o.a.createElement(Y.a,{style:{backgroundColor:"#90EE90",width:100,height:30,alignSelf:"center",borderRadius:5},onPress:function(){t.addToCart(t.product,r)}},o.a.createElement(H.a,{style:{color:"#000",textAlign:"center",fontSize:17,fontWeight:"bold"}},"Add to Cart"))))},et=G.a.Image(j||(j=J()(["\nheight: 140px;\nwidth: 109px;\n"]))),nt=G.a.View(O||(O=J()(["\n\nalign-self:center\n"]))),rt=G.a.View(C||(C=J()(["\ntext-align: center;\npadding:10px\n"])));var at,ot,ct,it=G.a.Text(X||(X=J()(["\ntext-align:center;\nfont-weight:bold;\nfont-size:22px;\n"]))),lt=G.a.View(Z||(Z=J()(["\npadding-top:10px;\n"]))),ut=G.a.View($||($=J()(["\ndisplay:flex;\nalign-items: center;\njustify-content: center;\nflex-wrap: wrap;\n"]))),dt=G.a.Text(_||(_=J()(["\ntext-align:center;\nfont-weight:bold;\nfont-size:22px;\njustify-content:center;\npadding:50px\n"]))),st=Object(z.b)((function(t){return{loading:t.product.isFetching,products:t.product.products,error:t.product.errorMessage}}),(function(t){return{handleAddToCart:function(e,n){t(F({product:e,quantity:n}))}}}))((function(t){var e=Object(a.useState)([]),n=B()(e,2),r=n[0],c=n[1],i=Object(a.useState)(1),l=B()(i,2),u=l[0],d=l[1],s=Object(a.useState)(!0),m=B()(s,2),f=m[0],p=m[1],g=Object(a.useState)(6),h=B()(g,2),y=h[0],x=h[1];return Object(a.useEffect)((function(){c(t.products.slice(0,6))}),[t.products]),o.a.createElement(lt,{style:mt.AddFlex},o.a.createElement(it,null,"Product Listing"),t.loading?o.a.createElement(dt,null,"Loading the product ..."):o.a.createElement(H.a,null),o.a.createElement(ut,{style:mt.AddFlex},o.a.createElement(N.a,{data:r,renderItem:function(e){var n=e.item;return o.a.createElement(tt,{product:n,addToCart:t.handleAddToCart})},keyExtractor:function(t){return t.id.toString()}})),r.length>0&&f?o.a.createElement(Y.a,{style:{backgroundColor:"#665EAD",width:100,height:30,alignSelf:"center"},onPress:function(){var e=u+1,n=t.products.length>6*e;d(e),p(n),c((function(n){return[].concat(w()(n),w()(t.products.slice(y,6*e)))})),x(6*e)}},o.a.createElement(H.a,{style:{color:"#000",textAlign:"center",fontSize:17,fontWeight:"bold"}},"Load More")):o.a.createElement(H.a,null))})),mt=l.a.create({AddFlex:{flex:1}});var ft,pt,gt,ht,yt=function(t){return o.a.createElement(xt,null,o.a.createElement(Et,null,o.a.createElement(bt,{source:{uri:t.cartitem.image},resizeMode:"cover"})),o.a.createElement(H.a,{style:{fontWeight:"bold",textAlign:"center"}},t.cartitem.title),o.a.createElement(H.a,{style:{fontWeight:"bold",textAlign:"center"}},"Unit Price :",t.cartitem.price.toFixed(2)),o.a.createElement(H.a,{style:{fontWeight:"bold",textAlign:"center"}},"Quantity :"),o.a.createElement(K.a,{style:{width:100,alignSelf:"center"},buttonStyle:{width:30,backgroundColor:"#665EAD"},editable:!1,max:100,min:1,step:1,rounded:!1,showBorder:!0,colorMax:"#f04048",colorMin:"#40c5f4",value:t.cartitem.quantity,onIncrease:function(){t.addToCart(t.cartitem)},onDecrease:function(){t.removeFromCart(t.cartitem)}}),o.a.createElement(H.a,{style:{fontWeight:"bold",textAlign:"center"}},"Amount :",t.cartitem.amount.toFixed(2)),o.a.createElement(U.a,{style:{padding:10}},o.a.createElement(Y.a,{style:{backgroundColor:"red",width:100,height:30,alignSelf:"center",borderRadius:5},onPress:function(){t.removeProduct(t.cartitem)}},o.a.createElement(H.a,{style:{color:"#000",textAlign:"center",fontSize:17,fontWeight:"bold"}},"Remove"))))},xt=G.a.View(at||(at=J()(["\ntext-align: center;\npadding:10px\n"]))),bt=G.a.Image(ot||(ot=J()(["\nheight: 140px;\nwidth: 109px;\n"]))),Et=G.a.View(ct||(ct=J()(["\n\nalign-self:center\n"])));var wt,vt,At,jt,Ot,Ct=Object(z.b)((function(t){return{cartItems:t.cart.cartItems}}),(function(t){return{handleAddToCart:function(e){t(F({product:e,quantity:1}))},handleRemoveFromCart:function(e){t(P({product:e}))},handleRemoveProductFromCart:function(e){t(T({product:e}))}}}))((function(t){return o.a.createElement(Pt,{style:St.AddFlex},o.a.createElement(It,null,"Your Shopping Cart"),0===t.cartItems.length?o.a.createElement(Ft,null,"You have no products in cart"):o.a.createElement(H.a,null),o.a.createElement(Tt,{style:St.AddFlex},o.a.createElement(N.a,{data:t.cartItems,renderItem:function(e){var n=e.item;return o.a.createElement(yt,{cartitem:n,addToCart:t.handleAddToCart,addToCart:t.handleAddToCart,removeFromCart:t.handleRemoveFromCart,removeProduct:t.handleRemoveProductFromCart})},keyExtractor:function(t){return t.id.toString()}})))})),St=l.a.create({AddFlex:{flex:1}}),It=G.a.Text(ft||(ft=J()(["\ntext-align:center;\nfont-weight:bold;\nfont-size:22px;\n"]))),Ft=G.a.Text(pt||(pt=J()(["\ntext-align:center;\nfont-weight:bold;\nfont-size:22px;\njustify-content:center;\npadding:50px\n"]))),Pt=G.a.View(gt||(gt=J()(["\npadding-top:10px;\n"]))),Tt=G.a.View(ht||(ht=J()(["\ndisplay:flex;\nalign-items: center;\njustify-content: center;\nflex-wrap: wrap;\n"]))),kt=n(174);var Qt=G.a.View(wt||(wt=J()(["\n  display:flex;\n  align-items:center;\n  flex-direction: row;\n  background: #665EAD;\n  height:50px;\n  justify-content:space-between;\n"]))),Mt=G.a.View(vt||(vt=J()(["\n  padding:5px 15px;\n"]))),Vt=G.a.Text(At||(At=J()(["\nfont-size:20px;\nfont-weight:bold;\n"]))),qt=G.a.Text(jt||(jt=J()(["\nfont-size:15px;\nfont-weight:bold;\ntext-align:right;\n"]))),zt=(G.a.View(Ot||(Ot=J()(["\nposition: sticky;\ntop:0;\n"]))),Object(z.b)((function(t){return{totalAmount:t.cart.totalAmount,totalQuantity:t.cart.totalQuantity}}))((function(t){return o.a.createElement(U.a,null,o.a.createElement(Qt,null,o.a.createElement(Mt,null,o.a.createElement(kt.a,{component:Y.a,to:"/"},o.a.createElement(Vt,null,"Home"))),o.a.createElement(Mt,null,o.a.createElement(kt.a,{component:Y.a,to:"/cart"},o.a.createElement(Vt,null,"Go to Cart")))),o.a.createElement(U.a,null,o.a.createElement(qt,null,"Price: ",t.totalAmount.toFixed(2)," Quantity: ",t.totalQuantity)))})));function Wt(){var t=Object(z.c)();return Object(a.useEffect)((function(){return t(y()),function(){}}),[t]),o.a.createElement(W.a,null,o.a.createElement(zt,null),o.a.createElement(D.b,{exact:!0,path:"/",component:st}),o.a.createElement(D.b,{path:"/cart",component:Ct}))}function Dt(){return o.a.createElement(z.a,{store:q},o.a.createElement(i.a,{style:Rt.AndroidSafeArea},o.a.createElement(Wt,null)))}var Rt=l.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},AndroidSafeArea:{flex:1,backgroundColor:"white",paddingTop:"android"===c.a.OS?u.a.currentHeight:0}})},133:function(t,e,n){t.exports=n(171)}},[[133,1,2]]]);
//# sourceMappingURL=app.26bc1a12.chunk.js.map